#streamlit 라이브러리 불러오기
import streamlit as st

# 페이지 설정
st.set_page_config(page_title="증상별 약 & 생활 관리 가이드", page_icon="💊", layout="centered")

# 전체 배경 흰색, 카드 하늘색
page_bg = """
<style>
.stApp {
    background-color: #ffffff;
}
.card {
    background-color: #B3E5FC;
    padding: 20px;
    margin-bottom: 20px;
    border-radius: 15px;
    box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
}
.card h3 {
    margin-top: 0;
}
</style>
"""
st.markdown(page_bg, unsafe_allow_html=True)

#앱 제목 및 앱에 대한 간단한 설명
st.title("💊 증상별 약 & 생활 실천 가이드")
st.write("몸이 안 좋을 때 증상에 맞는 약과 생활 실천 방안을 안내합니다.")

# 증상 데이터 베이스 역할 & 아이콘 추
symptom_data = {
    "두통 🧠": {
        "성분": ["아세트아미노펜", "이부프로펜"],
        "제품": ["타이레놀정 500mg", "부루펜정"],
        "생활": ["충분한 수면", "수분 섭취", "조용하고 어두운 환경에서 휴식", "카페인 과다 섭취 피하기"]
    },
    "소화불량 🤢": {
        "성분": ["제산제", "소화효소제"],
        "제품": ["겔포스", "판크레아틴정"],
        "생활": ["과식 피하기", "기름지고 자극적인 음식 줄이기", "식사 후 바로 눕지 않기", "규칙적인 식습관 유지"]
    },
    "기침 🤧": {
        "성분": ["덱스트로메토르판", "구아이페네신"],
        "제품": ["코데날시럽", "펜잘코프"],
        "생활": ["따뜻한 물 자주 마시기", "가습기 사용", "흡연 피하기", "충분한 휴식"]
    },
    "알레르기 🌸": {
        "성분": ["로라타딘", "세티리진"],
        "제품": ["지르텍정", "클라리틴정"],
        "생활": ["알레르기 원인 회피", "외출 후 세수 및 옷 갈아입기", "환기 자주 하기"]
    },
    "근육통 💪": {
        "성분": ["이부프로펜", "나프록센"],
        "제품": ["부루펜정", "나프록센정"],
        "생활": ["온찜질", "가벼운 스트레칭", "무리한 운동 피하기", "충분한 휴식"]
    },
    "생리통 🩸": {
        "성분": ["이부프로펜", "아세트아미노펜"],
        "제품": ["이브A정", "타이레놀정"],
        "생활": ["온찜질", "가벼운 유산소 운동", "카페인·염분 줄이기", "충분한 휴식"]
    },
    "복통 🤕": {
        "성분": ["부스코판", "스멕타"],
        "제품": ["부스코판정", "스멕타정"],
        "생활": ["자극적인 음식 피하기", "따뜻한 찜질", "수분 충분히 섭취", "규칙적인 식사"]
    },
    "불면증 😴": {
        "성분": ["멜라토닌 보조제"],
        "제품": ["멜라토닌 3mg"],
        "생활": ["취침 전 스마트폰 사용 자제", "일정한 수면 패턴 유지", "카페인 피하기", "가벼운 스트레칭"]
    },
    "피로 😵": {
        "성분": ["비타민C", "종합비타민"],
        "제품": ["비타민C 500mg", "센트룸 종합비타민"],
        "생활": ["충분한 수면", "균형 잡힌 식사", "가벼운 운동", "스트레스 관리"]
    },
    "코막힘 🤧": {
        "성분": ["항히스타민제", "비강분무제"],
        "제품": ["나시브스프레이", "오트리빈"],
        "생활": ["따뜻한 증기 흡입", "코 세척", "가습기 사용", "실내 공기 건조하지 않게 유지"]
    },
    "목 통증 😣": {
        "성분": ["이부프로펜", "진통 소염제"],
        "제품": ["부루펜정", "게보린정"],
        "생활": ["목 스트레칭", "온찜질", "장시간 같은 자세 피하기", "충분한 휴식"]
    },
    "눈 피로 👀": {
        "성분": ["인공눈물"],
        "제품": ["휴대용 인공눈물"],
        "생활": ["주기적인 눈 휴식", "모니터 밝기 조절", "적정 거리 유지", "눈 깜빡임 늘리기"]
    },
    "코감기 🤧": {
        "성분": ["진해제", "거담제"],
        "제품": ["코데날", "펜잘코프"],
        "생활": ["충분한 수분 섭취", "휴식", "실내 습도 유지", "찬 음식 피하기"]
    }
}

# 증상 선택 박스
selected_symptom = st.selectbox(
    "현재 느끼는 증상을 선택하세요 👇",
    ["증상을 선택하세요."] + list(symptom_data.keys())
)

#선택된 증상 정보 출력 (카드형)
# 카드형 UI 출력
if selected_symptom != "증상을 선택하세요.":
    data = symptom_data[selected_symptom]
    
    st.markdown(f"""
    <div class="card">
        <h3>{selected_symptom}</h3>
        <b>💊 추천 성분:</b>
        <ul>
            {''.join(f'<li>{s}</li>' for s in data['성분'])}
        </ul>
        <b>🏷️ 추천 제품:</b>
        <ul>
            {''.join(f'<li>{p}</li>' for p in data['제품'])}
        </ul>
        <b>🏡 생활 실천 방안:</b>
        <ul>
            {''.join(f'<li>{tip}</li>' for tip in data['생활'])}
        </ul>
    </div>
    """, unsafe_allow_html=True)
